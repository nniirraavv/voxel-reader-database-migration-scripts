2026-01-06 16:22:58,093 - INFO - Establishing database connections...
2026-01-06 16:22:58,119 - INFO - Truncating ClinicLocationServiceCharges and resetting clscId sequence to 1...
2026-01-06 16:22:58,122 - INFO - Table truncated and sequence reset.
2026-01-06 16:22:58,123 - INFO - Dropped default/sequence from ClinicLocationServiceCharges.clscId to allow explicit inserts.
2026-01-06 16:22:58,123 - INFO - Building clinic location mapping...
2026-01-06 16:22:58,124 - INFO - Built mappings: olduserid->uId: 93, uId->cId: 159, cId->clId: 159
2026-01-06 16:22:58,124 - INFO - user_id=1023 NOT found in olduserid_to_uid mapping - this is correct, should be skipped
2026-01-06 16:22:58,124 - INFO - Sample olduserid values in mapping: [41, 42, 48, 50, 51]
2026-01-06 16:22:58,124 - INFO - Fetching source data from tbl_user_service_charge...
2026-01-06 16:22:58,128 - INFO - Found 291 records to migrate
2026-01-06 16:22:58,128 - INFO - Starting data migration...
2026-01-06 16:22:58,128 - INFO - Note: Foreign key validation will be performed - only records with valid clinicLocationId and serviceId will be migrated
2026-01-06 16:22:58,128 - INFO - Processing record 1 with user_id=1023
2026-01-06 16:22:58,128 - WARNING - Skipping record 1: user_id 1023 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,128 - INFO - Processing record 2 with user_id=1023
2026-01-06 16:22:58,128 - WARNING - Skipping record 2: user_id 1023 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,128 - INFO - Processing record 3 with user_id=1023
2026-01-06 16:22:58,128 - WARNING - Skipping record 3: user_id 1023 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,128 - WARNING - Skipping record 4: user_id 1053 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,128 - WARNING - Skipping record 5: user_id 1053 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,128 - WARNING - Skipping record 6: user_id 1053 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,128 - WARNING - Skipping record 7: user_id 1047 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 8: user_id 1047 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 9: user_id 1047 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 10: user_id 1033 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 11: user_id 1033 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 12: user_id 1033 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 13: user_id 1084 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 14: user_id 1084 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 15: user_id 1084 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 16: user_id 1086 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 17: user_id 1086 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 18: user_id 1086 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 19: user_id 1086 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 20: user_id 1086 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 21: user_id 1086 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 22: user_id 1117 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 23: user_id 1117 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 24: user_id 1117 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 25: user_id 1120 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 26: user_id 1120 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 27: user_id 1120 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 28: user_id 1135 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 29: user_id 1135 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 30: user_id 1135 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 31: user_id 1137 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 32: user_id 1137 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 33: user_id 1137 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 34: user_id 1136 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 35: user_id 1136 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 36: user_id 1136 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 37: user_id 1139 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 38: user_id 1139 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 39: user_id 1139 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 40: user_id 1142 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 41: user_id 1142 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,129 - WARNING - Skipping record 42: user_id 1142 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,131 - WARNING - Skipping record 46: user_id 1158 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,131 - WARNING - Skipping record 47: user_id 1158 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,131 - WARNING - Skipping record 48: user_id 1158 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,131 - WARNING - Skipping record 49: user_id 1159 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,131 - WARNING - Skipping record 50: user_id 1159 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,131 - WARNING - Skipping record 51: user_id 1159 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,133 - WARNING - Skipping record 73: user_id 1187 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,133 - WARNING - Skipping record 74: user_id 1187 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,133 - WARNING - Skipping record 75: user_id 1187 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,134 - WARNING - Skipping record 82: user_id 1191 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,134 - WARNING - Skipping record 83: user_id 1191 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,134 - WARNING - Skipping record 84: user_id 1191 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,136 - WARNING - Skipping record 103: user_id 1199 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,136 - WARNING - Skipping record 104: user_id 1199 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,136 - WARNING - Skipping record 105: user_id 1199 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,142 - INFO - Migrated 100 records...
2026-01-06 16:22:58,154 - INFO - Migrated 200 records...
2026-01-06 16:22:58,154 - WARNING - Skipping record 259: user_id 1259 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,154 - WARNING - Skipping record 260: user_id 1259 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 261: user_id 1259 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 262: user_id 1261 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 263: user_id 1261 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 264: user_id 1261 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 265: user_id 1262 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 266: user_id 1262 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 267: user_id 1262 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 268: user_id 1263 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 269: user_id 1263 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 270: user_id 1263 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 271: user_id 1265 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 272: user_id 1265 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 273: user_id 1265 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 274: user_id 1266 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 275: user_id 1266 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 276: user_id 1266 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 277: user_id 1267 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 278: user_id 1267 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 279: user_id 1267 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 280: user_id 1268 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 281: user_id 1268 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 282: user_id 1268 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 283: user_id 1264 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 284: user_id 1264 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 285: user_id 1264 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 286: user_id 1270 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 287: user_id 1270 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 288: user_id 1270 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 289: user_id 1273 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 290: user_id 1273 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - WARNING - Skipping record 291: user_id 1273 could not be mapped to a valid clinicLocationId
2026-01-06 16:22:58,155 - INFO - ✅ Transaction committed successfully
2026-01-06 16:22:58,155 - INFO - ============================================================
2026-01-06 16:22:58,155 - INFO - MIGRATION SUMMARY
2026-01-06 16:22:58,155 - INFO - ============================================================
2026-01-06 16:22:58,155 - INFO - Total records processed: 291
2026-01-06 16:22:58,155 - INFO - Successful migrations: 201
2026-01-06 16:22:58,155 - INFO - Failed migrations: 0
2026-01-06 16:22:58,155 - INFO - Skipped invalid mapping: 90
2026-01-06 16:22:58,155 - INFO - Foreign key violations: 0
2026-01-06 16:22:58,155 - INFO - Success rate: 69.07%
2026-01-06 16:22:58,155 - INFO - ============================================================
2026-01-06 16:22:58,155 - WARNING - ⚠️  90 records had invalid user_id mapping (could not find clinicLocationId).
2026-01-06 16:22:58,155 - INFO - Foreign key constraints are maintained - only records with valid relationships were migrated
2026-01-06 16:22:58,155 - INFO - MySQL connection closed
2026-01-06 16:22:58,155 - INFO - PostgreSQL connection closed
